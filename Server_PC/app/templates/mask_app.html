<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Masking Application</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <script src="{{ url_for('static', filename='js/mask_app.js') }}"></script>
    <script src="{{ url_for('static', filename='js/p5.js') }}"></script>
   
    
</head>
<body>
    <h1 class="card">
        <img src="{{ url_for('static', filename='img/logo_mini.jpg') }}"  class="logo-mini">
        Masking app
    </h1>
    
    <div id="imageContainer" class="card">
        <div class="row">
            <div class="col">
                <div id="canvasHolder" class="stream-container"></div>  
            </div>
            <div class="col-2"> 
                <div class="row">
                    <!--<input type="file" id="fileInput" accept=".jpg">-->
                    <a href="#" class = 'buttonblue' id="loadFromCamera">Reset</a>
                        <input type='hidden' id="cameraName" value = "{{ camera[0].name }}">
                        <input type="hidden" id="snapShotRoute" value = ":{{camera[0].mirrorport}}/snapshot">
                        <input type="hidden" id="snapShotURL" value = "">
                    <a href="#" class = 'buttonblue' id="invertColor">Invert</a>
                    <!--!--<a href="#" class = 'buttonblue' id="saveLocalButton">Save Mask Locally</a>-->
                    <a href="#" class = 'buttonblue' id="uploadButton">Apply</a>
                </div>
            </div>
            <div class="col-3" style="font-size: 10px; text-align: left;">
                <ul>
                    <li>Make sure to paint those areas that are to be excluded from motion detection.</li>
                    <li>To reset the mask, click on the "Reset" button.</li>
                    <li>To invert the mask, click on the "Invert" button. The mask will be inverted and the excluded areas will be included in the motion detection.</li>
                    <li>To apply the mask, click on the "Apply" button. The mask will be automatically applied to the camera.</li>
                </ul>
            </div>
        </div>  
    </div>
    <div class="row"><a href="#" class="buttonblue center topmargin" id="buttonBack">Close</a></div>
    <script>
        //OnLoad event
        window.addEventListener('load',(event) => {
            // Close window
            var buttonBack = document.getElementById("buttonBack");
            buttonBack.addEventListener("click", (event) => {
                window.close();
            });


        });
    </script>
</body>
</html>